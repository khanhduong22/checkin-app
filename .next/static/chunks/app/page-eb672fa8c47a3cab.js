(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4452:function(e,t,n){Promise.resolve().then(n.bind(n,8137)),Promise.resolve().then(n.bind(n,5181))},3472:function(e,t,n){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return s}});let r=n(5355);function s(e){let{createServerReference:t}=n(7355);return t(e,r.callServer)}},8137:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(3827);n(5355);var s=(0,n(3472).$)("fb3fed15068c5b929bea3638a169be50041cfee1"),i=n(4090);function c(e){let{checkins:t}=e;return 0===t.length?null:(0,r.jsxs)("div",{className:"mt-6 rounded-xl bg-white/50 p-4 text-sm",children:[(0,r.jsx)("h3",{className:"mb-2 font-semibold text-gray-700",children:"Lịch sử h\xf4m nay"}),(0,r.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,r.jsxs)("div",{className:"flex justify-between border-b border-gray-200 pb-1 last:border-0",children:[(0,r.jsx)("span",{className:"checkin"===e.type?"text-green-600 font-medium":"text-orange-500 font-medium",children:"checkin"===e.type?"\uD83D\uDCCD Check-in":"\uD83D\uDC4B Check-out"}),(0,r.jsx)("span",{className:"text-gray-500",children:new Date(e.timestamp).toLocaleTimeString("vi-VN")})]},e.id))})]})}function a(e){let{userId:t,todayCheckins:n}=e,[a,l]=(0,i.useState)(!1),[d,o]=(0,i.useState)(null),u=async e=>{l(!0),o(null);try{let n=await s(t,e);o({text:n.message,type:n.success?"success":"error"})}catch(e){o({text:"Lỗi kết nối server",type:"error"})}finally{l(!1)}};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)("button",{onClick:()=>u("checkin"),disabled:a,className:"btn btn-primary disabled:opacity-50",children:"\uD83D\uDCCD Check-in"}),(0,r.jsx)("button",{onClick:()=>u("checkout"),disabled:a,className:"btn btn-secondary disabled:opacity-50",children:"\uD83D\uDC4B Check-out"})]}),a&&(0,r.jsx)("div",{className:"mt-4 text-center text-sm text-gray-500",children:"⏳ Đang xử l\xfd..."}),d&&(0,r.jsx)("div",{className:"mt-4 rounded-lg p-3 text-sm border ".concat("success"===d.type?"bg-green-100 text-green-700 border-green-200":"bg-red-100 text-red-700 border-red-200"," animate-[fadeIn_0.5s]"),children:d.text}),(0,r.jsx)(c,{checkins:n})]})}},5181:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(3827),s=n(1126);function i(e){var t;let{user:n,role:i}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-xl bg-white/10 p-4 border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[n.image?(0,r.jsx)("img",{src:n.image,alt:"Avatar",className:"h-10 w-10 rounded-full border border-white/20"}):(0,r.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-500 font-bold text-white",children:null===(t=n.name)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold text-gray-900",children:n.name}),(0,r.jsx)("div",{className:"text-xs text-gray-600 email-text",children:n.email}),"ADMIN"===i&&(0,r.jsx)("span",{className:"mt-1 inline-block rounded bg-purple-100 px-2 py-0.5 text-[10px] font-bold text-purple-700",children:"ADMIN"})]})]}),(0,r.jsx)("button",{onClick:()=>(0,s.signOut)(),className:"rounded-lg p-2 text-sm text-red-100 hover:bg-red-500/20 hover:text-red-600 transition-colors",title:"Đăng xuất",children:"\uD83D\uDEAA"})]})}}},function(e){e.O(0,[126,971,69,744],function(){return e(e.s=4452)}),_N_E=e.O()}]);